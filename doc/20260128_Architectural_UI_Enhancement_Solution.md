# UI 视觉对比分析报告与改进方案 (v5.12)

## 1. 现状数据与参考图对比

### A. 三大卡片间距（Header / Timer / Log）

| 维度 | 当前代码实现 (v5.11) | 参考图 2 (目标效果) | 差异分析 |
| :--- | :--- | :--- | :--- |
| **主容器边距** | `20px` (四边) | 视感约 `10px` - `12px` | 当前边距偏大，导致整体版面略显松散，且压缩了中间工作区的高度。 |
| **卡片间距** | `20px` (Spacing) | 视感约 `0px` - `4px` | **最大差异点**。参考图的三大模块几乎是“贴合”的，或者通过一个极窄的分割槽连接，而非当前这种完全独立的悬浮卡片感。 |
| **视觉隐喻** | 独立悬浮的三块“岛屿” | **一体化的大面板中内嵌三个区域** | 当前是“桌面上放了三张卡”，参考图是“一台精密仪器上的三个显示分区”。 |

### B. 立体感与阴影设计

| 维度 | 当前代码实现 (v5.11) | 参考图 2 (目标效果) | 差异分析 |
| :--- | :--- | :--- | :--- |
| **卡片外观** | 外凸 (Out-set) | **内凹 (In-set / Engraved)** | 当前卡片使用外阴影 (`drop-shadow`)，看起来是浮在底色上的；参考图卡片看起来是**刻在底板上**的凹槽。 |
| **阴影逻辑** | `QGraphicsDropShadowEffect` (黑/深灰) | **高光+内阴影 (Highlight + Inner Shadow)** | 参考图利用顶部的深色内阴影和底部的浅色高光，营造出“嵌入式”的物理质感。 |
| **分割线** | 无明确分割线，靠间距区分 | **粗体立体分割线** | 参考图使用类似 Chrome 浏览器的粗分割条，伴随柔和的内发光/内阴影。 |

---

## 2. 改进方案推荐

为了达成参考图 2 的质感，建议执行以下包含 **“结构重塑”** 和 **“光影重绘”** 的双重改造：

### 方案 A：间距压缩 (Easy Win)
*   **动作**：将 `main_layout.setSpacing(20)` 大幅锐减至 `4px` 或 `0px`。
*   **动作**：将 `main_layout.setContentsMargins(20, ...)` 减至 `10px`。
*   **预期效果**：界面利用率提高 15%，视觉上更加紧凑、专业。

### 方案 B：内凹立体感重构 (Hard Core)
*   **挑战**：Qt 的 CSS (`qss`) 原生不支持 `box-shadow: inset ...` 属性。
*   **实现路径**：
    1.  **取消外阴影**：移除所有 `QFrame` 的 `DropShadowEffect`。
    2.  **模拟内凹**：通过 `border` 属性模拟。
        *   顶部边框：深色 (`#CBD5E0`)，稍粗。
        *   底部边框：浅色/白色 (`#FFFFFF`)，用于模拟高光反射。
        *   背景色：比底板稍深或稍浅的灰度，形成对比。
    3.  **QSS 模拟代码示例**：
        ```css
        /* 模拟内凹效果 */
        QWidget#HeaderCard, QWidget#TimerWorkspaceCard, QWidget#LogCard {
            background-color: #F8FAFC; /* 极浅灰 */
            border-top: 2px solid #D1D5DB; /* 顶部深色模拟阴影 */
            border-bottom: 2px solid #FFFFFF; /* 底部高光 */
            border-left: 1px solid #E2E8F0;
            border-right: 1px solid #E2E8F0;
            border-radius: 20px;
            margin: 0px; /* 紧贴 */
        }
        ```

### 3. 建议执行步骤

1.  **优先执行 [方案 A]**：先将间距从 20px 压到 5px，观察紧凑感是否达标。
2.  **进阶执行 [方案 B]**：如果用户确认追求“内凹”质感，再进行复杂的 Border 模拟调整。
